import{b as u,j as e,L as p,I as f,c as g,m as j,n as b,o as y,g as n,u as N,$ as v}from"./index-CZAiDuDb.js";const w=({id:t,name:r,price:a,image:o,rating:d})=>{const l=c=>c.length>20?c.substring(0,20)+"...":c,s=u(),i=(c,x,h,m)=>{s(j({id:c,name:x,price:h,qty:1,image:m}))};return e.jsxs("div",{className:"border p-4 rounded-lg shadow hover:shadow-lg transition-all duration-200 ease-linear  cursor-pointer",children:[e.jsxs(p,{to:`/products/${t}`,children:[e.jsx("img",{src:o,alt:r,className:"h-56 w-full  bg-[#98c1d9] mb-3 rounded-lg"}),e.jsx("h3",{className:"text-xl font-bold",children:l(r)}),e.jsxs("p",{className:"text-gray-600",children:[e.jsx("span",{className:"text-black",children:"Price: $"}),a]}),e.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1",children:[e.jsx("span",{className:"text-black",children:"Rating:"})," ",e.jsx(f,{className:"text-yellow-500"})," ",d]})]}),e.jsxs("button",{onClick:()=>i(t,r,a,o),className:"bg-[#14213d] hover:bg-[#780000] transition-all duration-300 ease-linear text-white px-4 py-2 mt-2 rounded flex items-center gap-1",children:[e.jsx(g,{})," Add to Cart"]})]})},S=()=>{const t=u(),r=a=>{t(y(a.target.value))};return e.jsx("div",{className:"flex justify-center mt-2",children:e.jsxs("div",{className:"relative w-full max-w-xs sm:max-w-lg",children:[e.jsx("input",{type:"text",placeholder:"Search products...",className:"w-full px-4 py-2 pl-10 rounded-full border border-gray-300 outline-none",onChange:r}),e.jsx(b,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500"})]})})},P=()=>{const[t,r]=n.useState([]),[a,o]=n.useState(!0),[d,l]=n.useState(null);return n.useEffect(()=>{(async()=>{try{const c=await(await fetch("https://dummyjson.com/product")).json();r(c.products)}catch{l("Server Error Failed to Load Products...")}finally{o(!1)}})()},[]),{products:t,loading:a,error:d}},L=()=>{const{products:t,loading:r,error:a}=P(),[o,d]=n.useState([]),l=N(s=>s.search.search);return n.useEffect(()=>{const s=t.filter(i=>i.title.toLowerCase().includes(l.toLowerCase()));d(s)},[t,l]),r?e.jsx("div",{className:"flex justify-center items-center h-[60vh]",children:e.jsx(v,{width:"200",color:"#1995AD"})}):a?e.jsx("div",{className:"flex justify-center items-center h-[60vh]",children:e.jsx("p",{className:"text-red-500 text-2xl font-semibold",children:a})}):e.jsxs("div",{children:[e.jsx(S,{}),e.jsx("div",{className:"grid sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 p-3 gap-3",children:o.map(s=>e.jsx(w,{id:s.id,name:s.title,price:s.price,image:s.thumbnail,rating:s.rating},s.id))})]})};export{L as default};
